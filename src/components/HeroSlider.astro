---
const slides = [
  {
    image: "/images/impact-positif-ODD.webp",
    title: "Environnement, Climat et Promotion des ODD",
    subtitle: "Ensemble, promouvons les Objectifs de Développement Durable."
  },
  {
    image: "/images/forum-jeunesse.webp",
    title: "Engagement, Cohésion Sociale et Droits Humains",
    subtitle: "Accompagnons les jeunes et communautés vers un avenir meilleur sans inégalités sociales et violences."
  },
  {
    image: "/images/innovation.webp",
    title: "Innovation, Entrepreneuriat Social et Numérique",
    subtitle: "Soutenons les projets transformateurs dans nos communautés."
  },
  {
    image: "/images/sante-bienetre-social.webp",
    title: "Éducation, Santé et Promotion de l'Enfance",
    subtitle: "Nous intervenons dans les domaines de l'Éducation, Santé communautaire et la Promotion de l'Enfance."
  }
];
---
<section class="relative w-full overflow-hidden">
<!-- Icônes sociales -->
<div class="absolute z-30 flex flex-row gap-4 bottom-4 left-1/2 -translate-x-1/2
            md:flex-col md:top-1/2 md:left-4 md:-translate-y-1/2 md:translate-x-0">
  <!-- Facebook -->
  <a href="https://facebook.com/ampbenin.org" target="_blank" aria-label="Facebook"
     class="bg-blue-600 p-3 rounded-full hover:bg-blue-500 hover:scale-110 transition-transform duration-300">
    <svg class="w-6 h-6 fill-white" viewBox="0 0 24 24">
      <path d="M22 12a10 10 0 10-11.5 9.9v-7h-2v-3h2v-2.3c0-2 1.2-3.2 3-3.2.9 0 1.8.2 1.8.2v2h-1c-1 0-1.3.6-1.3 1.2V12h2.3l-.4 3h-1.9v7A10 10 0 0022 12z"/>
    </svg>
  </a>
  <!-- Twitter/X -->
  <a href="https://twitter.com" target="_blank" aria-label="X"
     class="bg-[#1DA1F2] p-3 rounded-full hover:bg-[#0d95e8] hover:scale-110 transition-transform duration-300">
    <svg class="w-6 h-6 fill-white" viewBox="0 0 24 24">
      <path d="M18.244 2.25h3.308l-7.227 8.26L22.5 21.75h-6.421l-5.03-6.568-5.757 6.568H2.984l7.73-8.828L1.5 2.25h6.58l4.533 6.054L18.244 2.25z"/>
    </svg>
  </a>
  <!-- WhatsApp -->
  <a href="https://whatsapp.com/channel/0029VaIOnPDEVccHs3abBh1A" target="_blank" aria-label="WhatsApp"
     class="bg-green-500 p-3 rounded-full hover:bg-green-400 hover:scale-110 transition-transform duration-300">
    <svg class="w-6 h-6 fill-white" viewBox="0 0 24 24">
      <path d="M20.52 3.48A11.87 11.87 0 0012 0C5.37 0 0 5.37 0 12c0 2.11.55 4.17 1.6 6L0 24l6.17-1.58A12 12 0 0012 24c6.63 0 12-5.37 12-12 0-3.2-1.25-6.2-3.48-8.52zM12 21.6c-1.87 0-3.68-.5-5.26-1.46l-.38-.23-3.66.94.98-3.56-.25-.38A9.58 9.58 0 012.4 12c0-5.3 4.3-9.6 9.6-9.6 2.56 0 4.97 1 6.77 2.8 1.8 1.8 2.8 4.21 2.8 6.77 0 5.3-4.3 9.6-9.6 9.6zm5.52-7.28c-.3-.15-1.77-.87-2.04-.97-.27-.1-.47-.15-.67.15-.2.3-.77.97-.94 1.17-.17.2-.35.22-.65.07-.3-.15-1.26-.46-2.4-1.48-.89-.79-1.48-1.77-1.65-2.07-.17-.3-.02-.46.13-.61.13-.13.3-.35.45-.52.15-.17.2-.3.3-.5.1-.2.05-.37-.02-.52-.07-.15-.67-1.62-.92-2.22-.24-.58-.49-.5-.67-.5h-.57c-.2 0-.52.07-.79.37-.27.3-1.04 1.02-1.04 2.48s1.07 2.88 1.22 3.07c.15.2 2.1 3.2 5.08 4.48.71.31 1.27.49 1.7.63.71.23 1.35.2 1.85.12.57-.09 1.77-.73 2.02-1.43.25-.7.25-1.3.17-1.43-.07-.13-.27-.2-.57-.35z"/>
    </svg>
  </a>
  <!-- LinkedIn -->
  <a href="https://linkedin.com" target="_blank" aria-label="LinkedIn"
     class="bg-[#0077B5] p-3 rounded-full hover:bg-[#005582] hover:scale-110 transition-transform duration-300">
    <svg class="w-6 h-6 fill-white" viewBox="0 0 24 24">
      <path d="M4.98 3.5C3.33 3.5 2 4.83 2 6.5s1.33 3 2.98 3c1.65 0 2.98-1.33 2.98-3S6.63 3.5 4.98 3.5zM2 8h6v14H2V8zm7 0h5.5v2h.1c.76-1.44 2.63-2.96 5.4-2.96 5.77 0 6.1 3.8 6.1 8.72V22h-6v-6.9c0-1.65-.03-3.77-2.3-3.77-2.3 0-2.65 1.8-2.65 3.65V22h-6V8z"/>
    </svg>
  </a>
</div>

  <!-- Slider -->
  <div id="hero-slider" class="relative h-[85vh] md:h-screen max-h-[900px]">
    {slides.map((slide, i) => (
      <div
        class={`absolute inset-0 transition-opacity duration-1000 ease-in-out transform scale-100 ${i === 0 ? "opacity-100 z-10 scale-100" : "opacity-0 scale-105"}`}
        data-slide-index={i}
      >
        <img
          src={slide.image}
          alt={slide.title}
          class="w-full h-full object-cover object-center"
          loading="lazy"
          decoding="async"
        />
        <div class="absolute inset-0 bg-gradient-to-b from-black/40 to-black/10 flex flex-col justify-center items-center text-center px-4 pt-24 sm:pt-32">
          <div class="bg-black/50 px-4 py-4 sm:px-8 sm:py-6 md:px-12 md:py-8 rounded-xl backdrop-blur-md max-w-[90%] sm:max-w-[80%] md:max-w-[70%] animate-fadeInUp">
            <h1 class="text-xl sm:text-2xl md:text-5xl font-extrabold mb-2 sm:mb-3 text-white drop-shadow-lg leading-snug">
              {slide.title}
            </h1>
            <p class="text-xs sm:text-sm md:text-xl text-gray-200 leading-relaxed">
              {slide.subtitle}
            </p>
          </div>
        </div>
      </div>
    ))}

    <!-- Navigation dots -->
    <div class="absolute bottom-6 md:bottom-10 left-1/2 transform -translate-x-1/2 flex gap-3 z-20">
      {slides.map((_, i) => (
        <button
          class={`w-3 h-3 rounded-full bg-white/50 hover:bg-white transition-all duration-300 ${i === 0 ? "bg-white" : ""}`}
          data-dot-index={i}
        ></button>
      ))}
    </div>
  </div>

  <style>
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fadeInUp { animation: fadeInUp 1s ease forwards; }
    @media (max-width: 640px) {
      #hero-slider { height: 80vh; }
    }
  </style>
</section>

  <script is:inline>
    document.addEventListener("DOMContentLoaded", () => {
      const slides = Array.from(document.querySelectorAll('#hero-slider > div[data-slide-index]'));
      const dots = document.querySelectorAll("#hero-slider button[data-dot-index]");
      let index = 0;

      function resetAnimations(slide) {
        const h1 = slide.querySelector('h1');
        const p = slide.querySelector('p');
        h1.style.animation = 'none';
        p.style.animation = 'none';
        void h1.offsetWidth; void p.offsetWidth;
        h1.style.animation = 'fadeInUp 1s ease forwards';
        p.style.animation = 'fadeInUp 1s ease forwards 0.2s';
      }

      function showSlide(newIndex) {
        slides.forEach((slide, i) => {
          slide.classList.remove("opacity-100", "z-10", "scale-100");
          slide.classList.add("opacity-0", "scale-105");
          dots[i].classList.remove("bg-white");
          dots[i].classList.add("bg-white/50");
        });
        const activeSlide = slides[newIndex];
        activeSlide.classList.remove("opacity-0", "scale-105");
        activeSlide.classList.add("opacity-100", "z-10", "scale-100");
        resetAnimations(activeSlide);
        dots[newIndex].classList.remove("bg-white/50");
        dots[newIndex].classList.add("bg-white");
      }

      let slideInterval = setInterval(() => {
        index = (index + 1) % slides.length;
        showSlide(index);
      }, 5000);

      dots.forEach(dot => {
        dot.addEventListener("click", () => {
          clearInterval(slideInterval);
          index = parseInt(dot.dataset.dotIndex);
          showSlide(index);
          slideInterval = setInterval(() => {
            index = (index + 1) % slides.length;
            showSlide(index);
          }, 5000);
        });
      });

      resetAnimations(slides[0]);
    });
  </script>

  <style>
    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    #hero-slider img {
      display: block;
      object-fit: cover;
      width: 100%;
      height: 100%;
    }

    @media (max-width: 640px) {
      #hero-slider {
        height: 80vh !important;
      }
    }

    .animate-fadeInUp {
      animation: fadeInUp 1s ease forwards;
    }
  </style>
</section>
