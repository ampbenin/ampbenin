---
const slides = [
  {
    image: "/images/16jours/1J16-16jours-25.webp",
    title: "JOUR FINAL : SENSIBILISATION - 16 JOURS D'ACTIVISME CONTRE LES VBG",
    description: `
      Nous sommes au dernier jour de la campagne et nous vous proposons un résumé riche des 16 jours d'activisme contre les VBG 2025.
      <br> LIRE l'article du jour - 10/12/2025<br>
      <strong>ENSEMBLE, FAISONS DU NUMÉRIQUE UN ESPACE SANS VIOLENCES.</strong>
    `,
    link: "/16jours/j16",
    linkText: "Lire l'article du J16",
  },
  {
    image: "/images/16jours/1J15-16jours-25.webp",
    title: "JOUR 15 : CAMPAGNE DE SENSIBILISATION DANS LES LYCÉES",
    description: `
      Une journée d’échange avec les jeunes sur les dangers du cyberharcèlement et la promotion du respect en ligne.
      <br> LIRE l'article du jour - 09/12/2025<br>
      <strong>Les jeunes, moteurs du changement !</strong>
    `,
    link: "/16jours/j15",
    linkText: "Lire l'article du J15",
  },
  {
    image: "/images/16jours/1J14-16jours-25.webp",
    title: "JOUR 14 : ATELIER SUR L'ÉGALITÉ NUMÉRIQUE",
    description: `
      Focus sur la participation des femmes dans le numérique et la lutte contre les discriminations en ligne.
      <br> LIRE l'article du jour - 08/12/2025<br>
      <strong>Égalité et respect pour toutes et tous.</strong>
    `,
    link: "/16jours/j14",
    linkText: "Lire l'article du J14",
  },
];
---

<section class="py-10 sm:py-12 px-4 sm:px-6 md:px-12 lg:px-24 bg-white">
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 sm:gap-8 items-center">

    <!-- Slider Images -->
    <div class="relative w-full overflow-hidden rounded-xl shadow-lg">
      <div id="slider" class="flex transition-transform duration-700 ease-in-out">
        {slides.map((slide) => (
          <img
            src={slide.image}
            class="w-full object-cover flex-shrink-0"
            alt={slide.title}
          />
        ))}
      </div>

      <!-- Boutons -->
      <button 
        id="prev" 
        class="absolute left-3 top-1/2 -translate-y-1/2 bg-white/70 hover:bg-white
               px-3 py-2 rounded-full shadow text-gray-800 font-bold z-10"
      >
        ‹
      </button>

      <button 
        id="next" 
        class="absolute right-3 top-1/2 -translate-y-1/2 bg-white/70 hover:bg-white
               px-3 py-2 rounded-full shadow text-gray-800 font-bold z-10"
      >
        ›
      </button>
    </div>

    <!-- Texte associé -->
    <div id="slide-text" class="transition-opacity duration-700">
      <h2 id="slide-title" class="text-2xl sm:text-3xl md:text-3xl lg:text-2xl font-bold mb-3 sm:mb-4 text-orange-700">
        {slides[0].title}
      </h2>

      <p id="slide-description" class="text-base sm:text-lg md:text-lg lg:text-xl text-gray-700 leading-relaxed mb-4 sm:mb-6">
        <astro-fragment set:html={slides[0].description} />
      </p>

      <a 
        id="slide-link"
        href={slides[0].link}
        class="inline-block px-5 sm:px-6 py-2.5 sm:py-3 bg-green-600 text-white font-semibold rounded-full shadow 
               hover:bg-green-700 transition-all duration-300"
      >
        {slides[0].linkText}
      </a>
    </div>

  </div>
</section>

<!-- Script slider -->
<script client:load>
  const slides = [
    {
      image: "/images/16jours/1J16-16jours-25.webp",
      title: "JOUR FINAL : SENSIBILISATION - 16 JOURS D'ACTIVISME CONTRE LES VBG",
      description: `
        Nous sommes au dernier jour de la campagne et nous vous proposons un résumé riche des 16 jours d'activisme contre les VBG 2025.
        <br> LIRE l'article du jour - 10/12/2025<br>
        <strong>ENSEMBLE, FAISONS DU NUMÉRIQUE UN ESPACE SANS VIOLENCES.</strong>
      `,
      link: "/16jours/j16",
      linkText: "Lire l'article du J16",
    },
    {
      image: "/images/16jours/1J15-16jours-25.webp",
      title: "JOUR 15 : CAMPAGNE DE SENSIBILISATION DANS LES LYCÉES",
      description: `
        Une journée d’échange avec les jeunes sur les dangers du cyberharcèlement et la promotion du respect en ligne.
        <br> LIRE l'article du jour - 09/12/2025<br>
        <strong>Les jeunes, moteurs du changement !</strong>
      `,
      link: "/16jours/j15",
      linkText: "Lire l'article du J15",
    },
    {
      image: "/images/16jours/1J14-16jours-25.webp",
      title: "JOUR 14 : ATELIER SUR L'ÉGALITÉ NUMÉRIQUE",
      description: `
        Focus sur la participation des femmes dans le numérique et la lutte contre les discriminations en ligne.
        <br> LIRE l'article du jour - 08/12/2025<br>
        <strong>Égalité et respect pour toutes et tous.</strong>
      `,
      link: "/16jours/j14",
      linkText: "Lire l'article du J14",
    },
  ];

  const slider = document.getElementById("slider");
  const next = document.getElementById("next");
  const prev = document.getElementById("prev");
  const title = document.getElementById("slide-title");
  const desc = document.getElementById("slide-description");
  const link = document.getElementById("slide-link");

  let index = 0;
  const total = slides.length;

  function updateSlide() {
    slider.style.transform = `translateX(-${index * 100}%)`;
    title.textContent = slides[index].title;
    desc.innerHTML = slides[index].description;
    link.href = slides[index].link;
    link.textContent = slides[index].linkText;
  }

  next.onclick = () => { index = (index + 1) % total; updateSlide(); };
  prev.onclick = () => { index = (index - 1 + total) % total; updateSlide(); };

  setInterval(() => { index = (index + 1) % total; updateSlide(); }, 5000);
</script>
