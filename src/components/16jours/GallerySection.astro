---
const photos = [
  "/images/16jours/2J3-16jours-25.webp",
  "/images/16jours/01-16jours-25.webp",
  "/images/16jours/02-16jours-25.webp",
  "/images/16jours/03-16jours-25.webp",
  "/images/16jours/04-16jours-25.webp",
  "/images/16jours/05-16jours-25.webp",
];
---

<section class="py-20 bg-white">
  <div class="max-w-6xl mx-auto px-6">
    <h2 class="text-3xl font-bold text-center mb-12">Galerie Photo & Vidéo</h2>

    <!-- GRID PHOTOS -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      {photos.map((src) => (
        <div 
          class="rounded-xl overflow-hidden shadow-md hover:scale-105 transition cursor-pointer"
          data-photo={src}
        >
          <img src={src} alt="Photo" class="w-full h-56 object-cover" />
        </div>
      ))}
    </div>

    <div class="text-center mt-10">
      <a href="#" class="px-8 py-3 bg-orange-600 text-white rounded-full shadow hover:bg-orange-700">
        Voir plus de photos & vidéos
      </a>
    </div>
  </div>
</section>

<!-- MODAL FULLSCREEN -->
<div 
  id="photoModal"
  class="fixed inset-0 bg-black/80 backdrop-blur-sm hidden justify-center items-center z-50"
>
  <span 
    id="closeModal"
    class="absolute top-6 right-8 text-white text-4xl font-bold cursor-pointer hover:text-orange-500"
  >
    &times;
  </span>

  <img 
    id="modalImage"
    src="" 
    class="max-w-4xl max-h-[85vh] rounded-xl shadow-2xl border-4 border-white"
  />
</div>

<!-- SCRIPT -->
<script client:load>
  const modal = document.getElementById("photoModal");
  const modalImage = document.getElementById("modalImage");
  const closeModal = document.getElementById("closeModal");

  document.querySelectorAll("[data-photo]").forEach((item) => {
    item.addEventListener("click", () => {
      const src = item.getAttribute("data-photo");
      modalImage.src = src;
      modal.classList.remove("hidden");
      modal.classList.add("flex");
    });
  });

  closeModal.onclick = () => {
    modal.classList.add("hidden");
    modal.classList.remove("flex");
  };

  // fermer en cliquant hors de l'image
  modal.addEventListener("click", (e) => {
    if (e.target === modal) {
      modal.classList.add("hidden");
      modal.classList.remove("flex");
    }
  });
</script>
